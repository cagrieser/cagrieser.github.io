{%- assign posts = paginator.posts | default: site.posts -%}
{% for post in posts %}
  <article>
    {% include meta.html post=post preview=true %}
    {{ post.excerpt }}
    <div class="more"><a href="{{ post.url | relative_url }}">read more</a></div>
  </article>
{% endfor %}

{% if paginator.total_pages > 1 %}
  {% if paginator.page > 1 %}
    <footer>
      <a href="{{ paginator.previous_page_path | relative_url }}">«««««</a>
      <span>page {{ paginator.page }} of {{ paginator.total_pages }}</span>
      {% if paginator.page < paginator.total_pages %}
        <a href="{{ paginator.next_page_path | relative_url }}">older posts »</a>
      {% endif %}
    </footer>
  {% else %}
    <footer>
      <span></span>
      <span>{{ paginator.page }} / {{ paginator.total_pages }}</span>
      {% if paginator.page < paginator.total_pages %}
        <a href="{{ paginator.next_page_path | relative_url }}">»»»»»</a>
      {% endif %}
    </footer>
  {% endif %}
{% endif %}
